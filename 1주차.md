## 1주차 목표
> 자바 소스 파일(.java)을 JVM으로 실행하는 과정 이해하기




## 학습할 것
    - JVM이란 무엇인가
    - 컴파일 하는 방법
    - 실행하는 방법
    - 바이트코드란 무엇인가
    - JIT 컴파일러란 무엇이며 어떻게 동작하는지
    - JVM 구성 요소
    - JDK와 JRE의 차이



### 개인 목표
> 아무것도 모르는 일반인이 이해할 수 있도록 쉽게 설명해보기




## JVM이란 무엇인가

Java Virtual Machine 줄여서 JVM이라고 부르며, 한국어로 번역하자면 `자바 가상 머신`으로 불린다.



`JVM의 목적`

자바 프로그램이 어디에서든 실행 될 수 있도록 도와주기위해 생겨났다.(핸드폰, 컴퓨터, 윈도우, 리눅스... 모든 곳!)

어떤 컴퓨터에서든 그냥 원래 자바로 할 수 있는 것이 아닐까??? 이렇게 생각 할 수 있지만, 옛날 프로그램들은 각 운영체제에 맞춰 프로그램은 작성되었었다.  
`남붕어가 혁신적인 계산기 프로그램을 만들어서 윈도우에 프로그램을 적용하여도, 리눅스, OSX 등 수많은 운영체계를 사용하는 컴퓨터들은 남붕어 계산기를 사용할 수 없다는 뜻이다.`  
그럼 똑같은 프로그램을 수없이 만들어야하는 굉장히 고된 작업이 될 것이다.


또한 스스로 프로그램 메모리를 관리하고 최적화하는 기능도 있기에, 프로그램 메모리를 따로 관리 할 수고를 줄여준다.





## 컴파일 하는 방법

컴파일(Compile)이란 `프로그래밍 언어로 만든 프로그램을 실제 컴퓨터에서 컴퓨터가 쓰는 언어로 번역`하는 것이다.  
다시말하자면 우리가 배우는 언어(자바, 파이썬, C, C++ 등)는 컴퓨터가 쓰는 언어(예시로 한국어라고 하자)랑은 다르다는 것이다.  
자바 나라에 사는 남붕어가 한국에 사는 남소연에게 자신이 쓰는 자바어로 이야기해도 한국어를 아는 남소연은 모르는 것과 똑같다.  

그럼 자바와 컴퓨터는 어떻게 이야기를 나눌 수 있을까?  

1. 자바는 `.java`라는 언어를 사용하며, 이는 컴퓨터가 읽을 수가 없다.  
2. 자바 컴파일러 `javac`는 자바와 컴퓨터의 1차 통역가로, `.java` 언어를 `.class` 언어로 바꿔준다.  
3. 2차 통역가 `JVM`은 `Interpreter`나 `JIT Compiler`로 `.class`언어를 해석해서 컴퓨터에게 알려준다.

![99B7443D5C29F7A107](https://user-images.githubusercontent.com/67003390/99931190-f7c29180-2d96-11eb-85d9-2e0e3396204b.png)

그림 참조 : https://yoonemong.tistory.com/183



## 실행하는 방법

1. .java 파일을 생성한다.  
2. 생성한 .java 파일을 컴파일한다.  
3. .class 파일이 생긴다.  

컴파일 부분을 이해하셨다면, 이부분은 복습이라고 생각하면 좋을 것 같습니다.  


그 뒤 class 안에 main 메소드를 찾아서 그 안에 개발자가 지시한 내용을 순차적으로 실행해 나갑니다.



## 바이트코드란 무엇인가

자바 가상 머신(JVM)이 가장 처음에 가지고있는 모국어라고 생각하면 됩니다.  
한글에 ㄱ,ㄴ,ㄷ,ㄹ...처럼 언어의 가장 작은 단위가 있듯이, JVM이 가지고있는 언어의 크기는 `1바이트`라서 바이트코드라고 불립니다.  
자바 바이트 코드의 확장자는 컴퓨터에게 해석해서 알려주는 확장자 `.class`를 씁니다.




## JIT 컴파일러란 무엇이며 어떻게 동작하는지


![캡처](https://user-images.githubusercontent.com/67003390/99932048-21c98300-2d9a-11eb-909e-1c35dfe8d418.PNG)
알게모르게 우리는 jit 컴파일러를 이미 한 번 보았습니다.  

JVM은 두 가지의 방법으로 컴퓨터에게 언어를 해석해 준다고 앞서 이야기했습니다.  

두 방법은 하려는 일은 똑같으나 서로 잘하는 분야가 다릅니다.  


##### Interpreter

`남붕어는 시장에서 사과를 1개 샀다.  
남붕어는 다시 시장에 가서 우유를 하나 샀다.`

위의 글을 읽을 때 우리는 자연스럽게 문장 전체를 읽는 것이 아니라 사실 자음 모음 하나하나를 조합해서 단어를 만들고, 단어가 모여서 글이 이루어집니다.
다시 말하자면 `ㄴ ㅏ ㅁ ㅂ ㅜ ㅇ ㅇ ㅓ ㄴ ㅡ ㄴ` 자음 모음을 붙여가며 `남 붕 어`로 만들고 이 과정을 마침표가 있는 지점까지 반복하여 하나의 글을 만들어,  
`남붕어는 시장에서 사과를 1개 샀다`라는 글을 이해하게 됩니다.  


자바의 한글 자음모음에 해당하는 바이트코드는 위와 똑같은 방법으로 한 줄 씩 읽어나가면서 주어진 명령을 수행합니다.  
  
    
> 자바의 Interpreter식 생각  

`남붕어는 시장에서 사과를 1개 샀다.`  
아 그럼 사과를 1개 사야겠다.  
`집에 오던 남붕어는 우유를 안산 것을 확인하고 다시 시장에 가서 우유를 하나 샀다.`  
어? 우유도 사야해? 그럼 다시 남붕어를 시장으로 보내고, 우유를 사게 해야겠네.  
  
  
위와 같은 방법으로 한 줄씩 주어진 내용을 수행하는 방법은 매번 같은 행동을 반복하면, 그때마다 한 줄씩 읽고 해석해야 하기때문에 시간이 오래걸립니다.  
> 따라서 반복하지않는 일을 할 때에는 Interpreter 방식을 사용하는 것이 좋습니다.


